/*!
 * iScroll v4.1.9 ~ Copyright (c) 2011 Matteo Spinelli, http://cubiq.org
 * Released under MIT license, http://cubiq.org/license
 */
(function(){var q=Math,d=function(m){return m>>0},u=(/webkit/i).test(navigator.appVersion)?"webkit":(/firefox/i).test(navigator.userAgent)?"Moz":"opera" in window?"O":"",k="WebKitCSSMatrix" in window&&"m11" in new WebKitCSSMatrix(),t="ontouchstart" in window,f=u+"Transform" in document.documentElement.style,v=(/android/gi).test(navigator.appVersion),i=(/iphone|ipad/gi).test(navigator.appVersion),c=(/playbook/gi).test(navigator.appVersion),g=i||c,n=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(m){return setTimeout(m,1)}})(),l=(function(){return window.cancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout})(),h="onorientationchange" in window?"orientationchange":"resize",b=t?"touchstart":"mousedown",o=t?"touchmove":"mousemove",e=t?"touchend":"mouseup",s=t?"touchcancel":"mouseup",p=u=="Moz"?"DOMMouseScroll":"mousewheel",a="translate"+(k?"3d(":"("),j=k?",0)":")",r=function(x,m){var y=this,z=document,w;y.wrapper=typeof x=="object"?x:z.getElementById(x);y.wrapper.style.overflow="hidden";y.scroller=y.wrapper.children[0];y.options={hScroll:true,vScroll:true,x:0,y:0,bounce:true,bounceLock:false,momentum:true,lockDirection:true,useTransform:true,useTransition:false,topOffset:0,checkDOMChanges:false,hScrollbar:true,vScrollbar:true,fixedScrollbar:v,hideScrollbar:i,fadeScrollbar:i&&k,scrollbarClass:"",zoom:false,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:false,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(A){A.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};if(y.zoom&&v){a="translate(";j=")"}for(w in m){y.options[w]=m[w]}y.x=y.options.x;y.y=y.options.y;y.options.useTransform=f?y.options.useTransform:false;y.options.hScrollbar=y.options.hScroll&&y.options.hScrollbar;y.options.vScrollbar=y.options.vScroll&&y.options.vScrollbar;y.options.zoom=y.options.useTransform&&y.options.zoom;y.options.useTransition=g&&y.options.useTransition;y.scroller.style[u+"TransitionProperty"]=y.options.useTransform?"-"+u.toLowerCase()+"-transform":"top left";y.scroller.style[u+"TransitionDuration"]="0";y.scroller.style[u+"TransformOrigin"]="0 0";if(y.options.useTransition){y.scroller.style[u+"TransitionTimingFunction"]="cubic-bezier(0.33,0.66,0.66,1)"}if(y.options.useTransform){y.scroller.style[u+"Transform"]=a+y.x+"px,"+y.y+"px"+j}else{y.scroller.style.cssText+=";position:absolute;top:"+y.y+"px;left:"+y.x+"px"}if(y.options.useTransition){y.options.fixedScrollbar=true}y.refresh();y._bind(h,window);y._bind(b);if(!t){y._bind("mouseout",y.wrapper);y._bind(p)}if(y.options.checkDOMChanges){y.checkDOMTime=setInterval(function(){y._checkDOMChanges()},500)}};r.prototype={enabled:true,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(w){var m=this;switch(w.type){case b:if(!t&&w.button!==0){return}m._start(w);break;case o:m._move(w);break;case e:case s:m._end(w);break;case h:m._resize();break;case p:m._wheel(w);break;case"mouseout":m._mouseout(w);break;case"webkitTransitionEnd":m._transitionEnd(w);break}},_checkDOMChanges:function(){if(this.moved||this.zoomed||this.animating||(this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale)){return}this.refresh()},_scrollbar:function(m){var x=this,y=document,w;if(!x[m+"Scrollbar"]){if(x[m+"ScrollbarWrapper"]){if(f){x[m+"ScrollbarIndicator"].style[u+"Transform"]=""}x[m+"ScrollbarWrapper"].parentNode.removeChild(x[m+"ScrollbarWrapper"]);x[m+"ScrollbarWrapper"]=null;x[m+"ScrollbarIndicator"]=null}return}if(!x[m+"ScrollbarWrapper"]){w=y.createElement("div");if(x.options.scrollbarClass){w.className=x.options.scrollbarClass+m.toUpperCase()}else{w.style.cssText="position:absolute;z-index:100;"+(m=="h"?"height:7px;bottom:1px;left:2px;right:"+(x.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(x.hScrollbar?"7":"2")+"px;top:2px;right:1px")}w.style.cssText+=";pointer-events:none;-"+u+"-transition-property:opacity;-"+u+"-transition-duration:"+(x.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(x.options.hideScrollbar?"0":"1");x.wrapper.appendChild(w);x[m+"ScrollbarWrapper"]=w;w=y.createElement("div");if(!x.options.scrollbarClass){w.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);-"+u+"-background-clip:padding-box;-"+u+"-box-sizing:border-box;"+(m=="h"?"height:100%":"width:100%")+";-"+u+"-border-radius:3px;border-radius:3px"}w.style.cssText+=";pointer-events:none;-"+u+"-transition-property:-"+u+"-transform;-"+u+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);-"+u+"-transition-duration:0;-"+u+"-transform:"+a+"0,0"+j;if(x.options.useTransition){w.style.cssText+=";-"+u+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"}x[m+"ScrollbarWrapper"].appendChild(w);x[m+"ScrollbarIndicator"]=w}if(m=="h"){x.hScrollbarSize=x.hScrollbarWrapper.clientWidth;x.hScrollbarIndicatorSize=q.max(d(x.hScrollbarSize*x.hScrollbarSize/x.scrollerW),8);x.hScrollbarIndicator.style.width=x.hScrollbarIndicatorSize+"px";x.hScrollbarMaxScroll=x.hScrollbarSize-x.hScrollbarIndicatorSize;x.hScrollbarProp=x.hScrollbarMaxScroll/x.maxScrollX}else{x.vScrollbarSize=x.vScrollbarWrapper.clientHeight;x.vScrollbarIndicatorSize=q.max(d(x.vScrollbarSize*x.vScrollbarSize/x.scrollerH),8);x.vScrollbarIndicator.style.height=x.vScrollbarIndicatorSize+"px";x.vScrollbarMaxScroll=x.vScrollbarSize-x.vScrollbarIndicatorSize;x.vScrollbarProp=x.vScrollbarMaxScroll/x.maxScrollY}x._scrollbarPos(m,true)},_resize:function(){var m=this;setTimeout(function(){m.refresh()},v?200:0)},_pos:function(m,w){m=this.hScroll?m:0;w=this.vScroll?w:0;if(this.options.useTransform){this.scroller.style[u+"Transform"]=a+m+"px,"+w+"px"+j+" scale("+this.scale+")"}else{m=d(m);w=d(w);this.scroller.style.left=m+"px";this.scroller.style.top=w+"px"}this.x=m;this.y=w;this._scrollbarPos("h");this._scrollbarPos("v")},_scrollbarPos:function(m,y){var x=this,z=m=="h"?x.x:x.y,w;if(!x[m+"Scrollbar"]){return}z=x[m+"ScrollbarProp"]*z;if(z<0){if(!x.options.fixedScrollbar){w=x[m+"ScrollbarIndicatorSize"]+d(z*3);if(w<8){w=8}x[m+"ScrollbarIndicator"].style[m=="h"?"width":"height"]=w+"px"}z=0}else{if(z>x[m+"ScrollbarMaxScroll"]){if(!x.options.fixedScrollbar){w=x[m+"ScrollbarIndicatorSize"]-d((z-x[m+"ScrollbarMaxScroll"])*3);if(w<8){w=8}x[m+"ScrollbarIndicator"].style[m=="h"?"width":"height"]=w+"px";z=x[m+"ScrollbarMaxScroll"]+(x[m+"ScrollbarIndicatorSize"]-w)}else{z=x[m+"ScrollbarMaxScroll"]}}}x[m+"ScrollbarWrapper"].style[u+"TransitionDelay"]="0";x[m+"ScrollbarWrapper"].style.opacity=y&&x.options.hideScrollbar?"0":"1";x[m+"ScrollbarIndicator"].style[u+"Transform"]=a+(m=="h"?z+"px,0":"0,"+z+"px")+j},_start:function(D){var C=this,w=t?D.touches[0]:D,z,m,E,B,A;if(!C.enabled){return}if(C.options.onBeforeScrollStart){C.options.onBeforeScrollStart.call(C,D)}if(C.options.useTransition||C.options.zoom){C._transitionTime(0)}C.moved=false;C.animating=false;C.zoomed=false;C.distX=0;C.distY=0;C.absDistX=0;C.absDistY=0;C.dirX=0;C.dirY=0;if(C.options.zoom&&t&&D.touches.length>1){B=q.abs(D.touches[0].pageX-D.touches[1].pageX);A=q.abs(D.touches[0].pageY-D.touches[1].pageY);C.touchesDistStart=q.sqrt(B*B+A*A);C.originX=q.abs(D.touches[0].pageX+D.touches[1].pageX-C.wrapperOffsetLeft*2)/2-C.x;C.originY=q.abs(D.touches[0].pageY+D.touches[1].pageY-C.wrapperOffsetTop*2)/2-C.y;if(C.options.onZoomStart){C.options.onZoomStart.call(C,D)}}if(C.options.momentum){if(C.options.useTransform){z=getComputedStyle(C.scroller,null)[u+"Transform"].replace(/[^0-9-.,]/g,"").split(",");m=z[4]*1;E=z[5]*1}else{m=getComputedStyle(C.scroller,null).left.replace(/[^0-9-]/g,"")*1;E=getComputedStyle(C.scroller,null).top.replace(/[^0-9-]/g,"")*1}if(m!=C.x||E!=C.y){if(C.options.useTransition){C._unbind("webkitTransitionEnd")}else{l(C.aniTime)}C.steps=[];C._pos(m,E)}}C.absStartX=C.x;C.absStartY=C.y;C.startX=C.x;C.startY=C.y;C.pointX=w.pageX;C.pointY=w.pageY;C.startTime=D.timeStamp||Date.now();if(C.options.onScrollStart){C.options.onScrollStart.call(C,D)}C._bind(o);C._bind(e);C._bind(s)},_move:function(D){var B=this,E=t?D.touches[0]:D,z=E.pageX-B.pointX,x=E.pageY-B.pointY,m=B.x+z,F=B.y+x,A,y,w,C=D.timeStamp||Date.now();if(B.options.onBeforeScrollMove){B.options.onBeforeScrollMove.call(B,D)}if(B.options.zoom&&t&&D.touches.length>1){A=q.abs(D.touches[0].pageX-D.touches[1].pageX);y=q.abs(D.touches[0].pageY-D.touches[1].pageY);B.touchesDist=q.sqrt(A*A+y*y);B.zoomed=true;w=1/B.touchesDistStart*B.touchesDist*this.scale;if(w<B.options.zoomMin){w=0.5*B.options.zoomMin*Math.pow(2,w/B.options.zoomMin)}else{if(w>B.options.zoomMax){w=2*B.options.zoomMax*Math.pow(0.5,B.options.zoomMax/w)}}B.lastScale=w/this.scale;m=this.originX-this.originX*B.lastScale+this.x,F=this.originY-this.originY*B.lastScale+this.y;this.scroller.style[u+"Transform"]=a+m+"px,"+F+"px"+j+" scale("+w+")";if(B.options.onZoom){B.options.onZoom.call(B,D)}return}B.pointX=E.pageX;B.pointY=E.pageY;if(m>0||m<B.maxScrollX){m=B.options.bounce?B.x+(z/2):m>=0||B.maxScrollX>=0?0:B.maxScrollX}if(F>B.minScrollY||F<B.maxScrollY){F=B.options.bounce?B.y+(x/2):F>=B.minScrollY||B.maxScrollY>=0?B.minScrollY:B.maxScrollY}if(B.absDistX<6&&B.absDistY<6){B.distX+=z;B.distY+=x;B.absDistX=q.abs(B.distX);B.absDistY=q.abs(B.distY);return}if(B.options.lockDirection){if(B.absDistX>B.absDistY+5){F=B.y;x=0}else{if(B.absDistY>B.absDistX+5){m=B.x;z=0}}}B.moved=true;B._pos(m,F);B.dirX=z>0?-1:z<0?1:0;B.dirY=x>0?-1:x<0?1:0;if(C-B.startTime>300){B.startTime=C;B.startX=B.x;B.startY=B.y}if(B.options.onScrollMove){B.options.onScrollMove.call(B,D)}},_end:function(D){if(t&&D.touches.length!=0){return}var B=this,J=t?D.changedTouches[0]:D,E,I,x={dist:0,time:0},m={dist:0,time:0},A=(D.timeStamp||Date.now())-B.startTime,F=B.x,C=B.y,H,G,w,z,y;B._unbind(o);B._unbind(e);B._unbind(s);if(B.options.onBeforeScrollEnd){B.options.onBeforeScrollEnd.call(B,D)}if(B.zoomed){y=B.scale*B.lastScale;y=Math.max(B.options.zoomMin,y);y=Math.min(B.options.zoomMax,y);B.lastScale=y/B.scale;B.scale=y;B.x=B.originX-B.originX*B.lastScale+B.x;B.y=B.originY-B.originY*B.lastScale+B.y;B.scroller.style[u+"TransitionDuration"]="200ms";B.scroller.style[u+"Transform"]=a+B.x+"px,"+B.y+"px"+j+" scale("+B.scale+")";B.zoomed=false;B.refresh();if(B.options.onZoomEnd){B.options.onZoomEnd.call(B,D)}return}if(!B.moved){if(t){if(B.doubleTapTimer&&B.options.zoom){clearTimeout(B.doubleTapTimer);B.doubleTapTimer=null;if(B.options.onZoomStart){B.options.onZoomStart.call(B,D)}B.zoom(B.pointX,B.pointY,B.scale==1?B.options.doubleTapZoom:1);if(B.options.onZoomEnd){setTimeout(function(){B.options.onZoomEnd.call(B,D)},200)}}else{B.doubleTapTimer=setTimeout(function(){B.doubleTapTimer=null;E=J.target;while(E.nodeType!=1){E=E.parentNode}if(E.tagName!="SELECT"&&E.tagName!="INPUT"&&E.tagName!="TEXTAREA"){I=document.createEvent("MouseEvents");I.initMouseEvent("click",true,true,D.view,1,J.screenX,J.screenY,J.clientX,J.clientY,D.ctrlKey,D.altKey,D.shiftKey,D.metaKey,0,null);I._fake=true;E.dispatchEvent(I)}},B.options.zoom?250:0)}}B._resetPos(200);if(B.options.onTouchEnd){B.options.onTouchEnd.call(B,D)}return}if(A<300&&B.options.momentum){x=F?B._momentum(F-B.startX,A,-B.x,B.scrollerW-B.wrapperW+B.x,B.options.bounce?B.wrapperW:0):x;m=C?B._momentum(C-B.startY,A,-B.y,(B.maxScrollY<0?B.scrollerH-B.wrapperH+B.y-B.minScrollY:0),B.options.bounce?B.wrapperH:0):m;F=B.x+x.dist;C=B.y+m.dist;if((B.x>0&&F>0)||(B.x<B.maxScrollX&&F<B.maxScrollX)){x={dist:0,time:0}}if((B.y>B.minScrollY&&C>B.minScrollY)||(B.y<B.maxScrollY&&C<B.maxScrollY)){m={dist:0,time:0}}}if(x.dist||m.dist){w=q.max(q.max(x.time,m.time),10);if(B.options.snap){H=F-B.absStartX;G=C-B.absStartY;if(q.abs(H)<B.options.snapThreshold&&q.abs(G)<B.options.snapThreshold){B.scrollTo(B.absStartX,B.absStartY,200)}else{z=B._snap(F,C);F=z.x;C=z.y;w=q.max(z.time,w)}}B.scrollTo(d(F),d(C),w);if(B.options.onTouchEnd){B.options.onTouchEnd.call(B,D)}return}if(B.options.snap){H=F-B.absStartX;G=C-B.absStartY;if(q.abs(H)<B.options.snapThreshold&&q.abs(G)<B.options.snapThreshold){B.scrollTo(B.absStartX,B.absStartY,200)}else{z=B._snap(B.x,B.y);if(z.x!=B.x||z.y!=B.y){B.scrollTo(z.x,z.y,z.time)}}if(B.options.onTouchEnd){B.options.onTouchEnd.call(B,D)}return}B._resetPos(200);if(B.options.onTouchEnd){B.options.onTouchEnd.call(B,D)}},_resetPos:function(x){var m=this,y=m.x>=0?0:m.x<m.maxScrollX?m.maxScrollX:m.x,w=m.y>=m.minScrollY||m.maxScrollY>0?m.minScrollY:m.y<m.maxScrollY?m.maxScrollY:m.y;if(y==m.x&&w==m.y){if(m.moved){m.moved=false;if(m.options.onScrollEnd){m.options.onScrollEnd.call(m)}}if(m.hScrollbar&&m.options.hideScrollbar){if(u=="webkit"){m.hScrollbarWrapper.style[u+"TransitionDelay"]="300ms"}m.hScrollbarWrapper.style.opacity="0"}if(m.vScrollbar&&m.options.hideScrollbar){if(u=="webkit"){m.vScrollbarWrapper.style[u+"TransitionDelay"]="300ms"}m.vScrollbarWrapper.style.opacity="0"}return}m.scrollTo(y,w,x||0)},_wheel:function(A){var y=this,z,x,w,m,B;if("wheelDeltaX" in A){z=A.wheelDeltaX/12;x=A.wheelDeltaY/12}else{if("detail" in A){z=x=-A.detail*3}else{z=x=-A.wheelDelta}}if(y.options.wheelAction=="zoom"){B=y.scale*Math.pow(2,1/3*(x?x/Math.abs(x):0));if(B<y.options.zoomMin){B=y.options.zoomMin}if(B>y.options.zoomMax){B=y.options.zoomMax}if(B!=y.scale){if(!y.wheelZoomCount&&y.options.onZoomStart){y.options.onZoomStart.call(y,A)}y.wheelZoomCount++;y.zoom(A.pageX,A.pageY,B,400);setTimeout(function(){y.wheelZoomCount--;if(!y.wheelZoomCount&&y.options.onZoomEnd){y.options.onZoomEnd.call(y,A)}},400)}return}w=y.x+z;m=y.y+x;if(w>0){w=0}else{if(w<y.maxScrollX){w=y.maxScrollX}}if(m>y.minScrollY){m=y.minScrollY}else{if(m<y.maxScrollY){m=y.maxScrollY}}y.scrollTo(w,m,0)},_mouseout:function(w){var m=w.relatedTarget;if(!m){this._end(w);return}while(m=m.parentNode){if(m==this.wrapper){return}}this._end(w)},_transitionEnd:function(w){var m=this;if(w.target!=m.scroller){return}m._unbind("webkitTransitionEnd");m._startAni()},_startAni:function(){var B=this,w=B.x,m=B.y,z=Date.now(),A,y,x;if(B.animating){return}if(!B.steps.length){B._resetPos(400);return}A=B.steps.shift();if(A.x==w&&A.y==m){A.time=0}B.animating=true;B.moved=true;if(B.options.useTransition){B._transitionTime(A.time);B._pos(A.x,A.y);B.animating=false;if(A.time){B._bind("webkitTransitionEnd")}else{B._resetPos(0)}return}x=function(){var C=Date.now(),E,D;if(C>=z+A.time){B._pos(A.x,A.y);B.animating=false;if(B.options.onAnimationEnd){B.options.onAnimationEnd.call(B)}B._startAni();return}C=(C-z)/A.time-1;y=q.sqrt(1-C*C);E=(A.x-w)*y+w;D=(A.y-m)*y+m;B._pos(E,D);if(B.animating){B.aniTime=n(x)}};x()},_transitionTime:function(m){m+="ms";this.scroller.style[u+"TransitionDuration"]=m;if(this.hScrollbar){this.hScrollbarIndicator.style[u+"TransitionDuration"]=m}if(this.vScrollbar){this.vScrollbarIndicator.style[u+"TransitionDuration"]=m}},_momentum:function(C,w,A,m,E){var B=0.0006,x=q.abs(C)/w,y=(x*x)/(2*B),D=0,z=0;if(C>0&&y>A){z=E/(6/(y/x*B));A=A+z;x=x*A/y;y=A}else{if(C<0&&y>m){z=E/(6/(y/x*B));m=m+z;x=x*m/y;y=m}}y=y*(C<0?-1:1);D=x/B;return{dist:y,time:d(D)}},_offset:function(m){var x=-m.offsetLeft,w=-m.offsetTop;while(m=m.offsetParent){x-=m.offsetLeft;w-=m.offsetTop}if(m!=this.wrapper){x*=this.scale;w*=this.scale}return{left:x,top:w}},_snap:function(F,E){var C=this,B,A,D,z,w,m;D=C.pagesX.length-1;for(B=0,A=C.pagesX.length;B<A;B++){if(F>=C.pagesX[B]){D=B;break}}if(D==C.currPageX&&D>0&&C.dirX<0){D--}F=C.pagesX[D];w=q.abs(F-C.pagesX[C.currPageX]);w=w?q.abs(C.x-F)/w*500:0;C.currPageX=D;D=C.pagesY.length-1;for(B=0;B<D;B++){if(E>=C.pagesY[B]){D=B;break}}if(D==C.currPageY&&D>0&&C.dirY<0){D--}E=C.pagesY[D];m=q.abs(E-C.pagesY[C.currPageY]);m=m?q.abs(C.y-E)/m*500:0;C.currPageY=D;z=d(q.max(w,m))||200;return{x:F,y:E,time:z}},_bind:function(x,w,m){(w||this.scroller).addEventListener(x,this,!!m)},_unbind:function(x,w,m){(w||this.scroller).removeEventListener(x,this,!!m)},destroy:function(){var m=this;m.scroller.style[u+"Transform"]="";m.hScrollbar=false;m.vScrollbar=false;m._scrollbar("h");m._scrollbar("v");m._unbind(h,window);m._unbind(b);m._unbind(o);m._unbind(e);m._unbind(s);if(m.options.hasTouch){m._unbind("mouseout",m.wrapper);m._unbind(p)}if(m.options.useTransition){m._unbind("webkitTransitionEnd")}if(m.options.checkDOMChanges){clearInterval(m.checkDOMTime)}if(m.options.onDestroy){m.options.onDestroy.call(m)}},refresh:function(){var y=this,A,x,m,w,B=0,z=0;if(y.scale<y.options.zoomMin){y.scale=y.options.zoomMin}y.wrapperW=y.wrapper.clientWidth||1;y.wrapperH=y.wrapper.clientHeight||1;y.minScrollY=-y.options.topOffset||0;y.scrollerW=d(y.scroller.offsetWidth*y.scale);y.scrollerH=d((y.scroller.offsetHeight+y.minScrollY)*y.scale);y.maxScrollX=y.wrapperW-y.scrollerW;y.maxScrollY=y.wrapperH-y.scrollerH+y.minScrollY;y.dirX=0;y.dirY=0;if(y.options.onRefresh){y.options.onRefresh.call(y)}y.hScroll=y.options.hScroll&&y.maxScrollX<0;y.vScroll=y.options.vScroll&&(!y.options.bounceLock&&!y.hScroll||y.scrollerH>y.wrapperH);y.hScrollbar=y.hScroll&&y.options.hScrollbar;y.vScrollbar=y.vScroll&&y.options.vScrollbar&&y.scrollerH>y.wrapperH;A=y._offset(y.wrapper);y.wrapperOffsetLeft=-A.left;y.wrapperOffsetTop=-A.top;if(typeof y.options.snap=="string"){y.pagesX=[];y.pagesY=[];w=y.scroller.querySelectorAll(y.options.snap);for(x=0,m=w.length;x<m;x++){B=y._offset(w[x]);B.left+=y.wrapperOffsetLeft;B.top+=y.wrapperOffsetTop;y.pagesX[x]=B.left<y.maxScrollX?y.maxScrollX:B.left*y.scale;y.pagesY[x]=B.top<y.maxScrollY?y.maxScrollY:B.top*y.scale}}else{if(y.options.snap){y.pagesX=[];while(B>=y.maxScrollX){y.pagesX[z]=B;B=B-y.wrapperW;z++}if(y.maxScrollX%y.wrapperW){y.pagesX[y.pagesX.length]=y.maxScrollX-y.pagesX[y.pagesX.length-1]+y.pagesX[y.pagesX.length-1]}B=0;z=0;y.pagesY=[];while(B>=y.maxScrollY){y.pagesY[z]=B;B=B-y.wrapperH;z++}if(y.maxScrollY%y.wrapperH){y.pagesY[y.pagesY.length]=y.maxScrollY-y.pagesY[y.pagesY.length-1]+y.pagesY[y.pagesY.length-1]}}}y._scrollbar("h");y._scrollbar("v");if(!y.zoomed){y.scroller.style[u+"TransitionDuration"]="0";y._resetPos(200)}},scrollTo:function(m,E,D,C){var B=this,A=m,z,w;B.stop();if(!A.length){A=[{x:m,y:E,time:D,relative:C}]}for(z=0,w=A.length;z<w;z++){if(A[z].relative){A[z].x=B.x-A[z].x;A[z].y=B.y-A[z].y}B.steps.push({x:A[z].x,y:A[z].y,time:A[z].time||0})}B._startAni()},scrollToElement:function(m,x){var w=this,y;m=m.nodeType?m:w.scroller.querySelector(m);if(!m){return}y=w._offset(m);y.left+=w.wrapperOffsetLeft;y.top+=w.wrapperOffsetTop;y.left=y.left>0?0:y.left<w.maxScrollX?w.maxScrollX:y.left;y.top=y.top>w.minScrollY?w.minScrollY:y.top<w.maxScrollY?w.maxScrollY:y.top;x=x===undefined?q.max(q.abs(y.left)*2,q.abs(y.top)*2):x;w.scrollTo(y.left,y.top,x)},scrollToPage:function(z,w,B){var A=this,m,C;if(A.options.onScrollStart){A.options.onScrollStart.call(A)}if(A.options.snap){z=z=="next"?A.currPageX+1:z=="prev"?A.currPageX-1:z;w=w=="next"?A.currPageY+1:w=="prev"?A.currPageY-1:w;z=z<0?0:z>A.pagesX.length-1?A.pagesX.length-1:z;w=w<0?0:w>A.pagesY.length-1?A.pagesY.length-1:w;A.currPageX=z;A.currPageY=w;m=A.pagesX[z];C=A.pagesY[w]}else{m=-A.wrapperW*z;C=-A.wrapperH*w;if(m<A.maxScrollX){m=A.maxScrollX}if(C<A.maxScrollY){C=A.maxScrollY}}A.scrollTo(m,C,B||400)},disable:function(){this.stop();this._resetPos(0);this.enabled=false;this._unbind(o);this._unbind(e);this._unbind(s)},enable:function(){this.enabled=true},stop:function(){if(this.options.useTransition){this._unbind("webkitTransitionEnd")}else{l(this.aniTime)}this.steps=[];this.moved=false;this.animating=false},zoom:function(m,C,B,A){var w=this,z=B/w.scale;if(!w.options.useTransform){return}w.zoomed=true;A=A===undefined?200:A;m=m-w.wrapperOffsetLeft-w.x;C=C-w.wrapperOffsetTop-w.y;w.x=m-m*z+w.x;w.y=C-C*z+w.y;w.scale=B;w.refresh();w.x=w.x>0?0:w.x<w.maxScrollX?w.maxScrollX:w.x;w.y=w.y>w.minScrollY?w.minScrollY:w.y<w.maxScrollY?w.maxScrollY:w.y;w.scroller.style[u+"TransitionDuration"]=A+"ms";w.scroller.style[u+"Transform"]=a+w.x+"px,"+w.y+"px"+j+" scale("+B+")";w.zoomed=false},isReady:function(){return !this.moved&&!this.zoomed&&!this.animating}};if(typeof exports!=="undefined"){exports.iScroll=r}else{window.iScroll=r}})();